 {% extends "base.html" %}

{% block title %}Create Post{% endblock %}

{% block content %}
<div class="wrapper p-5">
    <div class="container mt-5">
        <h2 class="display-6 mb-4">Create a New Post</h2>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {{form.media}}
            {{ form.as_p }}

            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
</div>
{% endblock %}



{% comment %} {% block title %}Create Post{% endblock %}

{% block content %}
<div class=" container mt-5 p-1">
    <div class="container mt-5 d-flex justify-content-center align-items-center">
        <div class="m-3 w-75 border border-dark rounded p-3">
            <h2 class="text-center">Create Post</h2>
            <div class="mt-4">
                <form method="post" enctype="multipart/form-data" action="" id="post-form">
                    {% csrf_token %}
                    
                    <div class="form-group m-3">
                        <label for="title" class="m-2">Post Title</label>
                        <input type="text" id="title" name="title" class="form-control" required>
                    </div>
                    
                    <div class="form-group m-3">
                        <label for="content" class="m-2">Content</label>
                        <textarea id="content" name="content" rows="5" class="form-control" required></textarea>
                        <div id="editor-container" style="height: 300px;">
                        {{forms.content}}
                        </div>
                        <form method="POST">
                            <div class="ck-editor-container">
                                <textarea id="id_text" name="text" class="django_ckeditor_5" >
                                </textarea>
                                <div></div> <!-- this div or any empty element is required -->
                                <span class="word-count" id="id_text_script-word-count"></span>
                           </div>
                        </form>
                    </div>
                    
                    <div class="form-group m-3">
                        <label for="image" class="m-2">Image</label>
                        <input type="file" id="image" name="image" class="form-control mb-3">
                        {% if post.image %}
                        <small class="form-text text-muted mt-3">Current image: <a href="{{ post.image.url }}" target="_blank">View</a></small>
                        {% endif %}
                    </div>
                    
                    <div class="form-group m-3">
                        <label for="category" class="m-2">Category</label>
                        <select id="category" name="category" class="form-control">
                            <option value="">--Select a Category--</option>
                            {% for cat in categories %}
                            <option value="{{ cat.id }}">{{ cat.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div class="form-group m-3">
                        <label for="tags" class="m-2">Tags</label>
                        <input type="text" id="tags" name="tags" class="form-control" placeholder="Enter tags separated by commas">
                    </div>
                    
                    <button type="submit" class="btn btn-primary ms-3">Create Post</button>
                </form>
            </div>
        </div>
    </div>
</div>

{% endblock %} {% endcomment %}
